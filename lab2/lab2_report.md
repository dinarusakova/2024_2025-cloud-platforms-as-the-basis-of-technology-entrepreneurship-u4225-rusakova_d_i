University: [ITMO University](https://itmo.ru/ru/)  
Faculty: [FTMI](https://fict.itmo.ru)  
Course: [Cloud platforms as the basis of technology entrepreneurship](https://)  
Year: 2024/2025  
Group: U4225  
Author: Rusakova Dinara Ihabovna  
Lab: Lab1  
Date of create: 25.10.2023  
Date of finished:   

# Лабораторная работа 2 "Исследование Cloud Run"

## Введение

Cloud Run это сервис вычислений в облаке, который позволяет запускать контейнеризированные приложения в среде сервера, управляемом Google. С помощью Cloud Run можно быстро и легко развернуть приложения на базе Docker в облаке Google без необходимости управления инфраструктурой. Cloud Run предлагает возможности масштабирования и автомасштабирования, позволяя запускать приложения с произвольным количеством запросов и моментально масштабироваться в зависимости от количества запросов.

## Ход работы
## Задание 1

Был создан Cloud Run из представленного дефолтного сервиса Hello с минимальным количеством ресурсов.
![](/lab2/screenshots/lab2_task1.png)

## Задание 2

Был совершен переход по ссылке предоставленной Cloud Run.
![](/lab2/screenshots/lab2_task2.png)

Как мы видим, был успешно развернут образ контейнера на Cloud Run.  


## Задание 3

Были пранализированы разделы логи и метрики:

1. Логи
![](/lab2/screenshots/lab2_task3_1.png)

Логи показывают входные запросы, а также ответы, информацию о HTTP-методах, статусы ответов и временные метки. Также могут быть показаны ошибки и информация об использовании ресурсов.
В данном случае сервис hello-rusakova был успешно создан и обработка запросов выполняется корректно, с положительными ответами на запросы к различным ресурсам.

2. Метрики 

Мы видим такие метрики как: количество запросов, время выполнения, использование памяти, использование CPU, число экземпляров,количество ошибок и исключений, пропускная способность.
Так как метрики завязаны на времени, метрики оценивались примерно через 30 минут после развертывания образа контейнера. Как мы видим, метрики демонстрируют действительную ситуацию на настоящий момент.

![](/lab2/screenshots/lab2_task3_3.png)
![](/lab2/screenshots/lab2_task3_2.png)

## Задание 4 
Был изменен Cloud Run - порт изменен на 8090.
![](/lab2/screenshots/lab2_task4_1.png)
Был совершен переход по ссылке предоставленной Cloud Run.
![](/lab2/screenshots/lab2_task4_2.png)
Как мы видим, был успешно развернут образ контейнера на Cloud Run. 
Изменим распределение трафика между версими на 50/50.
![](/lab2/screenshots/lab2_task4_3.png)
При распределении трафика 50 на 50 между версиями сервиса на Google Cloud Run, запросы пользователей будут равномерно направляться к двум разным версиям одного сервиса.
Изменим распределение трафика между версими на 10/90.
![](/lab2/screenshots/lab2_task4_4.png)
Теперь 90% трафика направляется на новую версию. 

## Вывод
В ходе лабораторной работы был успешно развернут Cloud Run из представленного дефолтного сервиса Hello с минимальным количеством ресурсов. После изменения порта было изменено распределение трафика межуд двумя версиями сервиса. Результаты работы были отслежены по метрикам и логам, которые показывают количество отправленных и полученных запросов, ответы и информацию по исользованию памяти.






